## Project C-1 – 사출 설비 품질 예측 시스템
(N사 자동차 부품 제조기업 / K-등대공장 구축사업 / 2023.05 ~ 2025.03)

---

### 프로젝트 개요

- 다수 사출기의 실시간 데이터를 기반으로 비지도 학습 기반 불량 탐지 시스템을 구축.
- 라벨링 적합성 부족, 데이터 혼재 등으로 인해 지도학습 접근법의 한계를 극복하고, **AutoEncoder** 기반의 비지도 이상 탐지와 **Hybrid Prediction** 구조를 도입.
- 통계 기반 **Recheck** 알고리즘을 통해 실시간 품질 판정의 안정성 확보.


---

### 문제 정의
- 1.) **실시간 품질 예측 필요**
  - 다수 사출기의 데이터로 정상/불량 이진 분류 필요.
  - 라벨링 부족과 데이터 혼재로 인해 지도학습 기반 접근이 제한적.
- 2.) **비지도 학습 기반 전환 필요**
  - 기존: 사출+PLC 데이터 기반 지도학습 → 정확도 저하.
  - 개선: 사출 단독 데이터 기반 AutoEncoder 중심 비지도 학습 체계 구축.

---

### 핵심 기술 및 알고리즘
- **Tree 기반 분류기**: RandomForest, XGBoost, LightGBM, GBM, Stacking.
- **AutoEncoder 기반 비지도 이상 탐지**: Reconstruction Error 기반 판정.
- **Hybrid Prediction 구조**: Fixed Threshold + Distribution Adaptable Threshold 결합.
- **KDE 기반 동적 임계값 산출**: MAE Loss 분포의 변동계수(CV) 기반.
- **Robust Z-Score 기반 Recheck 프로세스**: Fault 예측 샘플에 대한 2차 검증.

---


### 실시간 추론 프로세스

- 1.) **Fixed Prediction**: AE 기반 고정 임계값을 활용한 단일 샘플 품질 판정.
- 2.) **Adaptable Prediction**: 다수 샘플의 MAE Loss 분포를 KDE로 정량화하여 임계값 산출.
- 3.) **Hybrid Prediction**: 데이터 분포 안정성(CV, Skewness, Kurtosis)에 따라 Fixed vs Adaptable 선택, 혹은 혼합 적용.
- 4.) **Recheck Process**: Fault 판정 데이터에 대해 CP/CPK, Robust Z, Threshold Gap 등을 기반으로 재검토.
- 5.) **예외 처리**: 작업자가 직접 제어하는 시간대 데이터는 예측 제외 처리.


--- 

### 주요 성과

- 지도학습 기반 초기 실험: 불량 탐지 정확도 85-91%, 실제 적용 시 **65-68%** 로 하락.
- 비지도 Hybrid AE 기반으로 전환 후, **작업자 검사 기준 대비 정확도 약 14% 향상.**

---

### 기여도

- 품질 예측을 위한 **데이터 전처리 파이프라인 및 AE 모델 학습/추론 구조 설계.**
- **Hybrid Prediction 시스템**(Fixed + Adaptable) 설계 및 구현.
- **Recheck 알고리즘**(통계 기반 2차 검증 프로세스) 직접 개발.


---
---
## Project C-2 – 평균 사출/냉각시간 공정조건 추천 모듈

---

### 프로젝트 개요

- 사출 공정에서 **Mean Set_InjectionTime / CoolingTime** 추천값을 제공하는 군집 기반 모듈 개발.
- Production·Environment 데이터의 시점 불일치를 고려하고, 통계 기반의 유연한 추천값 + 예외 대응 로직을 통합.
- 실시간 입력값을 **Recipe Data**에 업데이트를 자동화하여 **운영 지속 가능성 강화.**

---

### 문제 정의

- 1.) **실시간 조건 추천 필요**
  - 현재 공정 세팅값 대비 Set_InjectionTime/CoolingTime Mean에 대한 추천값 제시 필요.
  - 모니터링 시스템과 연계 가능한 실시간 추천 모듈 필요.
- 2.) **데이터 불일치 및 예외 대응 필요**
  - Production과 Environment 데이터 간 시점 불일치 가능.
  - 군집 매칭 실패, 데이터 부족 상황을 고려한 예외 처리 로직 필요.


---

### 핵심 기술 및 알고리즘

- **K-Means 기반 클러스터링**: Production + Environment 변수 기반 조건 군집화.
- **실시간 군집 예측**: 현재 입력값을 군집화하여 동일 Cluster 내 학습데이터(Recipe) 선택.
- **추천값 산정 로직**:
  - 군집 내 최근사 Mean값 기반 추천.
  - 표준편차 ± Gaussian Noise를 반영하여 유연한 추천 범위 제공.
- **예외 처리**:
  - 군집 데이터 1개일 경우 해당 값 그대로 사용.
  - 추천값이 현재값보다 낮으면 Noise 보정.
  - 실시간 데이터 조회 실패 시 전체 평균값으로 대체.


---

### 실시간 추천 프로세스

- 1.) 실시간 데이터 수집 → Production + Environment 매칭.
- 2.) K-Means Cluster 예측 → 해당 군집의 학습데이터(Recipe) 선택.
- 3.) 추천값 산출 → InjectionTime / CoolingTime Mean의 최근사값 선택, ±Std 범위 내 확률적 랜덤화.
- 4.) 예외처리 1: 군집 데이터가 1개 → 해당 값 사용.
- 5.) 예외처리 2: 추천값이 현재값보다 낮을 경우 Gaussian Noise 보정.
- 6.) 예외처리 3: 데이터 조회 실패 → 전체 평균으로 대체 추천.
- 7.) Recipe 업데이트: 실시간 입력값을 기존 학습데이터에 자동 누적

---

### 주요 성과

- 실시간 추천값과 실제 세팅값 간 오차 평균 **3~5% 이내 유지**.
- 데이터 불일치 및 예외 상황에서도 안정적으로 추천값 제공.


---

### 기여도

- **군집 기반 조건 추천 알고리즘 설계** 및 데이터 전처리 로직 구축.
- **유연화 로직 및 예외처리 구조 구현**, 실시간 매칭·추천 프로세스 최적화.
- 실시간 데이터의 Recipe 업데이트로 **지속 가능한 운영 환경** 확보.


---
